import{d as B,r as e,o as k,c as b,a as s,b as S,t as l,e as c,w as v,f as H,g as h,h as m,q as j,i as N,j as d,k as _,l as u,_ as O}from"./index-DelcrjFf.js";const R={class:"container-fluid p-4"},T={class:"row g-4"},D={class:"col-md-6 col-lg-3"},q={class:"card border-0 shadow-sm"},E={class:"card-body"},I={class:"d-flex justify-content-between align-items-center"},Q={class:"mb-0"},$={class:"col-md-6 col-lg-3"},F={class:"card border-0 shadow-sm"},G={class:"card-body"},J={class:"d-flex justify-content-between align-items-center"},K={class:"mb-0"},P={class:"col-md-6 col-lg-3"},U={class:"card border-0 shadow-sm"},W={class:"card-body"},X={class:"d-flex justify-content-between align-items-center"},Y={class:"mb-0"},Z={class:"col-md-6 col-lg-3"},s1={class:"card border-0 shadow-sm"},t1={class:"card-body"},o1={class:"d-flex justify-content-between align-items-center"},a1={class:"mb-0"},e1={class:"row mt-4"},l1={class:"col-12"},d1={class:"card border-0 shadow-sm"},i1={class:"card-body"},n1={class:"d-flex gap-2 flex-wrap"},r1={key:0,class:"text-center mt-5"},c1=B({__name:"HomeView",setup(v1){const w=e(0),p=e(0),g=e(0),i=e(0),n=e(!0),f=async()=>{n.value=!0;try{const a=new Date;a.setHours(0,0,0,0);const t=a.getTime(),o=h(m,"orders"),x=j(o,N("create_at",">=",t)),y=await d(x);w.value=y.size;const z=h(m,"products"),M=await d(z);p.value=M.size;const V=h(m,"coupons"),C=await d(V);g.value=C.size;const A=await d(o);i.value=0,A.forEach(L=>{const r=L.data();r.is_paid&&r.total&&(i.value+=r.total)})}catch(a){console.error("獲取統計資料失敗:",a)}finally{n.value=!1}};return k(()=>{f()}),(a,t)=>{const o=H("router-link");return _(),b("div",R,[t[13]||(t[13]=s("h2",{class:"mb-4"},"數據總覽",-1)),s("div",T,[s("div",D,[s("div",q,[s("div",E,[s("div",I,[s("div",null,[t[0]||(t[0]=s("h6",{class:"text-muted mb-2"},"今日訂單數",-1)),s("h2",Q,l(w.value),1)]),t[1]||(t[1]=s("div",{class:"bg-primary bg-opacity-10 p-3 rounded"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-cart-check text-primary",viewBox:"0 0 16 16"},[s("path",{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"}),s("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zm3.915 10L3.102 4h10.796l-1.313 7zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})])],-1))])])])]),s("div",$,[s("div",F,[s("div",G,[s("div",J,[s("div",null,[t[2]||(t[2]=s("h6",{class:"text-muted mb-2"},"商品總數",-1)),s("h2",K,l(p.value),1)]),t[3]||(t[3]=s("div",{class:"bg-success bg-opacity-10 p-3 rounded"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-box-seam text-success",viewBox:"0 0 16 16"},[s("path",{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"})])],-1))])])])]),s("div",P,[s("div",U,[s("div",W,[s("div",X,[s("div",null,[t[4]||(t[4]=s("h6",{class:"text-muted mb-2"},"優惠券總數",-1)),s("h2",Y,l(g.value),1)]),t[5]||(t[5]=s("div",{class:"bg-warning bg-opacity-10 p-3 rounded"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-tag text-warning",viewBox:"0 0 16 16"},[s("path",{d:"M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0"}),s("path",{d:"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586 7 7L13.586 9l-7-7H2z"})])],-1))])])])]),s("div",Z,[s("div",s1,[s("div",t1,[s("div",o1,[s("div",null,[t[6]||(t[6]=s("h6",{class:"text-muted mb-2"},"總營收",-1)),s("h2",a1,"NT$ "+l(i.value.toLocaleString()),1)]),t[7]||(t[7]=s("div",{class:"bg-danger bg-opacity-10 p-3 rounded"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-currency-dollar text-danger",viewBox:"0 0 16 16"},[s("path",{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"})])],-1))])])])])]),s("div",e1,[s("div",l1,[s("div",d1,[s("div",i1,[t[11]||(t[11]=s("h5",{class:"card-title mb-3"},"快速操作",-1)),s("div",n1,[c(o,{to:"/product-management",class:"btn btn-primary"},{default:v(()=>[...t[8]||(t[8]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus-circle me-1",viewBox:"0 0 16 16"},[s("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),s("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),u(" 新增商品 ",-1)])]),_:1}),c(o,{to:"/order-management",class:"btn btn-success"},{default:v(()=>[...t[9]||(t[9]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list-check me-1",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"})],-1),u(" 查看訂單 ",-1)])]),_:1}),c(o,{to:"/coupon-management",class:"btn btn-warning"},{default:v(()=>[...t[10]||(t[10]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-ticket-perforated me-1",viewBox:"0 0 16 16"},[s("path",{d:"M4 4.85v.9h1v-.9zm7 0v.9h1v-.9zm-7 1.8v.9h1v-.9zm7 0v.9h1v-.9zm-7 1.8v.9h1v-.9zm7 0v.9h1v-.9zm-7 1.8v.9h1v-.9zm7 0v.9h1v-.9z"}),s("path",{d:"M1.5 3A1.5 1.5 0 0 0 0 4.5V6a.5.5 0 0 0 .5.5 1.5 1.5 0 1 1 0 3 .5.5 0 0 0-.5.5v1.5A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5V10a.5.5 0 0 0-.5-.5 1.5 1.5 0 0 1 0-3A.5.5 0 0 0 16 6V4.5A1.5 1.5 0 0 0 14.5 3zM1 4.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1.05a2.5 2.5 0 0 0 0 4.9v1.05a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1.05a2.5 2.5 0 0 0 0-4.9z"})],-1),u(" 管理優惠券 ",-1)])]),_:1})])])])])]),n.value?(_(),b("div",r1,[...t[12]||(t[12]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"載入中...")],-1)])])):S("",!0)])}}}),m1=O(c1,[["__scopeId","data-v-cd30ef4f"]]);export{m1 as default};
